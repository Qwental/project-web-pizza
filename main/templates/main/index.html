{% extends 'main/base.html' %}
{% load static %}

<!DOCTYPE html>
<html>
  <body class="root">
    {# TODO: починить шрифт Italiano в header #}
    {# HEADER(шапка) #}
    {% block header %}

    {% endblock %}

    {% block content %}
      <div class="block content-specialOffers">СКИДЫЩКИ</div>
      {# TODO: убрать "декор" у блоков a #}
      {# nav bar для меню(мини-шапка) #}
      {% include 'main/components/menu_navbar.html' %}

      {# TODO: изменить? #}
      {# КОРЗИНА #}
      {% include 'main/components/cart.html' %}

      {# TODO: починить скроллинг (не видно названий категорий в меню) #}
      {# МЕНЮ #}
      <div class="block menu">
        {# Заполнение товаров по категориям (сделал как это примерно должно работать) #}
        {% for category in categories %}
        <div id="{{ category.name }}" class="menu__section menu__section_{{ category.name }}">
          <h5>{{ category.name }}</h5>
          <div class="menu__section-content">
            <div class="menu__section-content-cards">
              
              {# TODO: цикл карточек; данные подтягиваются с бэка #}
              {% for product in category.get_products %}
                <div class="card menu__section-content-card">
                  <div class="menu__section-content-card-content">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" class="menu__section-content-card-content-img" alt="{{ product.name }}">
                    {% else %}
                        <img src="{% static "" %}" class="menu__section-content-card-content-img" alt="Not found image">
                    {% endif %}
                    <div class="menu__section-content-card-content-title">{{ product.name }}</div>
                    <div class="menu__section-content-card-content-description">{{ product.description|truncatechars:35 }}</div>
                    <div class="menu__section-content-card-content-cost">{{ product.sell_price }}</div>
                    <div class="menu__section-content-card-content-addBtn">
                      <button onclick="alert('Added to cart')"><span class="material-symbols-outlined">add</span></button>
                    </div>
                  </div>
                </div>
              {% endfor %}

            </div>
          </div>
        </div>
        {% endfor %}
    {% endblock %}

    {% block footer %}

    {% endblock %}
  </body>
</html>
